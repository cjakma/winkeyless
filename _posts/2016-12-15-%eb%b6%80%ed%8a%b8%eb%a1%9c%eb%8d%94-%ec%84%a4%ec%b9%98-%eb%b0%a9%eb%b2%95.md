---
layout: post
title: 부트로더 설치 방법
published: true
author: showjean
comments: true
date: 2013-06-29 12:06:03
tags: [ ]
categories:
    - '%ec%a0%95%eb%b3%b4'
permalink: /67
image:
    feature: cfile5.uf.237E853551CEDD5232C790.jpg
---
기판 에 아직 부트로더가 설치되어 있지 않다면 다음과 같은 방법으로 설치할 수 있습니다.





아래 링크의 내용대로 부트로더 설치 여부를 확인합니다.

http://blog.winkeyless.kr/14



만약, 부트로더가 설치되어있지 않다면 아래의 내용을 보고 설치하시기바랍니다.





* 부트로더 설치





0. 부트로더 파일 준비






http://blog.winkeyless.kr/entry/ps2avrU-bootloader&nbsp;: 링크의 &#8220;펌웨어&#8221; 파일을 다운 받습니다.

  



&#8211; 위 파일을 다운받아 적당한 위치에&nbsp;압축을 해제합니다.(파일 경로에 한글이 포함되지 않도록 하세요.)







1. ISP다운로더 준비

&#8211; ISP다운로더는 MCU에 바이너리(.hex 파일)을&nbsp;업로드&nbsp;할 수 있는 장치 입니다.




  










2. ISP다운로더를 기판과 연결

&#8211; 기판의 ISP 연결 홀을 이용해 ISP다운로더를 연결합니다.(3칸&nbsp;2열 또는 6칸 1열 중 한 곳을 선택해 연결합니다.)




  







  








&#8211; ISP다운로더를 PC와 연결합니다.




  










3.&nbsp;업로드&nbsp;준비

&#8211; 압축해제한 파일 중 &#8220;boot\_hid\_romwrite.bat&#8221;을 메모장 등으로 편집합니다.




  
    avrdude -c stk500v2 -P com3 -p atmega32 -U hfuse:w:0xD0:m -U lfuse:w:0xCF:m
  
  
  
    avrdude -c stk500v2 -P com3 -p atmega32 -U hfuse:w:0xD0:m -U lfuse:w:0x0F:m
  
  
  
    avrdude -c stk500v2 -P com3 -p atmega32 -U flash:w:main.hex:i
  
  
  
    pause;
  




&#8211; 붉은 색으로 표시한 부분을 자신의 환경에 맞게 수정한 후 &#8220;저장&#8221;합니다.


  stk500v2&nbsp;: ISP다운로더의 기종(?) 입니다. 저는 일반 마켓에서 구입한 ISP다운로더로 위와 같이 입력합니다.



  com3&nbsp;: ISP다운로더가 연결된 포트를 지정합니다. 때에따라 com포트가 될 수도 있고 usb가 될 수도 있습니다.





&#8211; 메모장을 닫습니다.





4.&nbsp;업로드&nbsp;시작

&#8211; 3에서 편집한 &#8220;boot_hid_romwrite.bat&#8221;을 더블클릭하여 실행합니다.




  








&#8211; 위 스크린샷과 같은 순서로&nbsp;업로드가 진행됩니다.(수치 등은 조금씩 다를 수 있습니다.)





4-1. 다른 방식의&nbsp;업로드

&#8211; ISP다운로더에 따라 위 3~4 방식이 작동하지 않을 수 있습니다. ISP다운로더에 따른 바이너리를&nbsp;업데이트하는 방식으로 압축해제한 파일중 &#8220;main.hex&#8221;파일을 MCU에 업데이트해주면 됩니다.

&#8211; 이때 퓨즈비트 설정값은 high&nbsp;0xD0, low&nbsp;0xCF&nbsp;0x0F&nbsp;입니다.

&#8211; 평생입문자님의 ISP다운로더 사용법 :&nbsp;http://www.kbdmania.net/xe/6711621







5. 위 작업을 모두 이상없이 진행했다면 부트로더 설치가 완료 된 것 입니다.

&#8211; 아래의 링크의 내용을 참고하여&nbsp;부트로더가 설치되었는지 확인해봅니다.

http://blog.winkeyless.kr/entry/%EB%B6%80%ED%8A%B8%EB%A1%9C%EB%8D%94%EA%B0%80-%EC%84%A4%EC%B9%98%EB%90%98%EC%96%B4-%EC%9E%88%EB%8A%94%EC%A7%80-%ED%99%95%EC%9D%B8%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95





