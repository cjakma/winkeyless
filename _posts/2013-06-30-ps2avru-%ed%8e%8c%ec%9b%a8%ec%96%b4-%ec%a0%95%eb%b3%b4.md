---
ID: 87
post_title: ps2avrU 펌웨어 정보
author: showjean
post_date: 2013-06-30 10:29:42
post_excerpt: ""
layout: post
permalink: http://winkeyless.com/blog/87
published: true
---
<p><br /></p><p><b>* ps2avrU란?</b></p><p><br /></p><p>- USB /&nbsp;PS/2 콤보 펌웨어입니다.</p><p>- PS/2 키보드 펌웨어인&nbsp;ps2avr과 USB키보드 펌웨어인 dulcimer를 조합하여 만든 펌웨어입니다.</p><p>- 프로젝트 링크</p><p style="margin-left: 2em;">ps2avr :&nbsp;<a href="http://ps2avr.sourceforge.net/" style="font-size: 9pt; line-height: 1.5;">http://ps2avr.sourceforge.net/</a></p><p style="margin-left: 2em;">dulcimer :&nbsp;<a href="http://www.schatenseite.de/dulcimer.html?L=2" style="font-size: 9pt; line-height: 1.5;">http://www.schatenseite.de/dulcimer.html?L=2</a></p><p><br /></p><p>(ps2avr 시리즈의 기판은 확장 모듈(ps2avr-ext)를 함께 사용해야 USB인터페이스를 이용할 수 있습니다.)</p><p><br /></p><p><br /></p><p><b>* 두 인터페이스의 차이점</b></p><p><br /></p><p>&nbsp;USB</p><p style="margin-left: 2em;">- 6+1키 동시입력</p><p style="margin-left: 2em;">- 보통의 키&nbsp;반복 속도</p><p><br /></p><p>&nbsp;PS/2&nbsp;</p><p style="margin-left: 2em;">- 무한 동시입력</p><p style="margin-left: 2em;">- 빠른 키 반복&nbsp;속도</p><p><br /></p><p><br /></p><p><br /></p><p><b>* 인터페이스 전환 방법</b></p><p><br /></p><p>- 기본적으로 USB로 설정되어있습니다.</p><p>-&nbsp;<span style="line-height: 1.5;">PS/2 로 선택하려면 "P"키를 누른 상태에서 PS/2 포트에 연결합니다.</span></p><p><span style="line-height: 1.5;">&nbsp; (보통 PS/2 포트는 핫플러그를 지원하지 않기 때문에 USB 포트에 PS/2모드로 선택만 한 후, 컴퓨터 전원 off -&gt; PS/2 연결 -&gt; 부팅 순으로 이용하시는 것이 좋습니다.)</span></p><p>- 이렇게 수동으로 인터페이스를 선택하면 이후에 재 접속해도 다시 그 인터페이스로만 작동을 합니다.</p><p>- USB로 설정하려면&nbsp;"U"키를 누른 상태에서 USB포트에 연결하면 됩니다.</p><p><br /></p><p>- 인터페이스 인식 표시는 CapsLock/NumLock LED의 깜박이는 수로 확인 가능합니다.</p><p style="margin-left: 2em;">-&gt; 1번 깜박인 후 키보드 동작 : PS/2로 인식된 상태</p><p style="margin-left: 2em;">-&gt; 깜박임 없이 키보드 동작 : USB로 인식된 상태</p><p><br /></p><p><br /></p><p><br /></p><p><b>* 기본 기능</b></p><p><br /></p><p>- Full LED 지원</p><p>- LED 모드 변경키 : ESC + caps lock</p><p>1. LED off - &nbsp;꺼짐</p><p>2. fading - 숨쉬기</p><p>3. on - 계속 켜짐</p><p>4. key down level up - 키 입력이 잦을수록 밝아짐</p><p>5. key down level down - 키 입력이 잦을수록 어두워짐</p><p><br /></p><p>- full LED의 최대 밝기는 조절할 수 있는 기능 키</p><p>KEY_LED_UP : 최대 밝기 증가</p><p>KEY_LED_DOWN : 최대 밝기 감소</p><p><br /></p><p>기본적으로 다음의 위치에 매핑되어 있습니다.</p><p>A.87 및 MX-mini 시리즈 : FN + -(감소) / FN + =(증가)</p><p>thumb 시리즈 : FN + R Alt(감소) / FN + R Ctrl(증가)</p><p><br /></p><p>- 4 Layer 키맵</p><p>1. normal</p><p>2. FN</p><p>-&gt; FN키를 누르고 있는 동안&nbsp;작동되는 레이어</p><p>3. FN2/FN3</p><p>-&gt; FN2/FN3키를 누르고 있는 동안 FN2/FN3레이어가 유지됩니다.</p><p>-&gt; "TOGGLE_FN2/TOGGLE_FN3"키로 매핑된 키를 이용하면&nbsp;FN2/FN3레이어로 유지됩니다.&nbsp;</p><p>-&gt; toggle on/off를 caps lock/num lock LED의 깜박임 수로 표시합니다. on/off 각 2번/1번 점멸 합니다.</p><p>(하드웨어 메뉴의 옵션을 설정하여 NumLock LED를 FN2/FN3의 인디케이터로 대신 사용할 수 있습니다.)</p><p>-&gt; normal 레이어로 복귀하려면 다시 "TOGGLE_FN2/TOGGLE_FN3" 키를 다시 누르거나 ESC+Backspace를 누르면 됩니다.</p><p><br /></p><p><br /></p><p>- Scroll Lock LED 표시(ps2avr 이전 기판)</p><p>1. Scroll Lock LED는 별도로 존재하지 않고, on/off시 CapsLock LED가 각각 2번/1번 깜빡이며 표시됩니다.</p><p>2. 펌웨어 파일 중 SL_apart라고 이름이 붙은 것은 MCU의 PD6핀으로 Scroll Lock LED 신호가 출력됩니다. 이 핀에 330옴 정도의 저항을 직결 한 후 LED를 연결해 주면 on/off에 따라서 점멸 됩니다.</p><p>-&gt; PD6 핀은 MCU의 15번째 핀입니다. 링크의 그림을 참고하세요.</p><p>https://raw2.github.com/showjean/ps2avrU/master/firmware/ps2avrU/Circuit/circut_20131031_040055_001.png</p><p>-&gt; Scroll Lock LED 분리하기 팁 :&nbsp;http://blog.winkeyless.kr/126</p><p><br /></p><p>- Sleep Mode : USB로 연결 시 시스템이 종료 되면 슬립 모드로 전환되어 모든 LED가 off 됩니다.</p><p><br /></p><p><br /></p><p><b>* 키 매핑 지원</b></p><p><br /></p><p>- 애플리케이션(부트 매퍼)을 이용해 키 매핑을 간단히 할 수 있습니다.</p><p>- 사용법 :&nbsp;http://blog.winkeyless.kr/90</p><p><br /></p><p><br /></p><p><b>* 하드웨어 키 매핑 지원</b></p><p><br /></p><p>- 사용자가 원하는 키 값으로 모든 키를 매핑할 수 있습니다.</p><p>- 사용법 :&nbsp;http://blog.winkeyless.kr/46</p><p><br /></p><p><br /></p><p><br /></p><p><b>* 하드웨어 매크로 지원</b></p><p><br /></p><p>- 사용자가 원하는 키에 매크로를 등록할 수 있습니다.</p><p>- 사용법 :&nbsp;http://blog.winkeyless.kr/55</p><p><br /></p><p><br /></p><p><b>* 퀵 매크로 지원</b></p><p><br /></p><p>- 하드웨어 메뉴를 거치지 않고 원하는 하드웨어 매크로(KEY_MAC1~12)에 빠르게 매크로를 설정할 수 있는 기능</p><p>: QM(Quick Macro)키 + 원하는 매크로 키(KEY_MAC1~12) 를 누르고 모든 키에서 손을 떼면 caps lock LED가 길게 2번 반짝이며 저장을 시작합니다.</p><p>: 이 상태에서 원하는 키 조합을 입력하고 다시 QM키를 누르면 caps lock LED가 길게 1번 반짝이며 매크로 저장이 종료 됩니다.</p><p>: 해당 매크로키(KEY_MAC1~12)를 누르면 저장 된 키 조합이 출력됩니다.</p><p>: 퀵 매크로는 하드웨어 메뉴에서 저장하는 하드웨어 매크로에만 해당되며 커스텀 매크로에는 적용 되지 않습니다.</p><p><br /></p><p><br /></p><p><b>* Custom Macro 지원</b></p><p><br /></p><p>- 부트 매퍼 사이트에 추가된 "Custom Macro"탭을 이용하여 매크로를 편집 후 .hex파일을 생성하고 부트로더를 이용해 키보드에 업로드합니다.</p><p>- CST Mac1~12 키로 매크로를 작동 시킵니다.</p><p>- 사용 방법 :&nbsp;http://blog.winkeyless.kr/125</p><p><br /></p><p><br /></p><p><b>* 퀵 스왑 기능</b></p><p>- 퀵 스왑 적용(ALT&nbsp;&lt;-&gt; GUI) : ALT+GUI+R shift 를 동시에 누르고 5초간 유지하면 두 키(ALT &lt;-&gt; GUI)의 위치가 뒤바뀝니다. (적용시 캡스락/넘락 LED가 2회/1회 깜빡이며 표시)</p><p><br /></p><p><br /></p><p><b>* PS/2 키 반복 속도 조절</b></p><p>-&nbsp;숫자 1~3키 하나를 누른 상태로 케이블 연결(전원 ON) 하여 키 반복 속도를 조절 합니다.</p><p>- 1은 기본 속도(빠름), 2 = 조금 빠름, 3 = 보통 속도</p><p>- 설정 값은 저장 되어 다시 설정하기 전까지 유지됩니다.</p><p><br /></p><p><b>* Dual action key&nbsp;</b></p><p>- 이 키들은 키 기본적으로 조합 키로 작동합니다. 다만, 다른키와 조합하지 않고 하나만 눌렀다 때면(down-&gt;up) 한/영 이나 한자 등의 키가 입력됩니다.</p><p><br /></p><p>예를 들어, "FN + Capslock" 키를 누른 상태에서 다른 키들을 누르면 FN 레이어 키로 작동하지만, 이 키만 단독으로 눌렀다 때면 Capslock&nbsp;키로 작동합니다.&nbsp;</p><p><br /></p><p>부트맵퍼를 통해서 여러가지 조합의 듀얼 액션 키를 설정 할 수 있습니다.</p><p><br /></p><p>- dual action key 작동 방식</p><p>: 누른 상태로 잠시(약 0.5초) 있어야 조합키가 작동된다.</p><p>: 다른 키와 조합하면 딜레이와 관계없이 조합키로 작동된다.</p><p>: 단독 키(한/영 등)로 사용하려면 눌렀다 떼는 행동을 약0.5초 안에 해야 된다.</p><p>= 예를 들어 "(R alt + 한/영)"키를 이용시 한/영 을 사용하고 싶다면 0.5초 내에 다운/업을 해야 하고,&nbsp;</p><p>R alt를 누르고 싶다면 0.5초 동안 누르고 있거나, 다른 키들과 조합을 하면 된다.</p><p><br /></p><p>- 윈도우즈의 키보드 설정이 101키로 되어 있는 경우 R Alt가 한/영, RCtrl이 한자 키로 작동하기 때문에 위 키들 중에 해당 사항이 있는 키(R alt + 한/영 등)는 듀얼 액션으로 작동되지 않습니다.</p><p><br /></p><p><strike>-= FN, FN2, FN3 키 처럼 레이어가 변경되는 키는 해당 레이어의 같은 위치에도 같은 키코드로 매핑을 해줘야 정상 작동합니다.</strike></p><p><b style="font-size: 9pt; line-height: 1.5;"><br /></b></p><p><b style="font-size: 9pt; line-height: 1.5;"><br /></b></p><p><b style="font-size: 9pt; line-height: 1.5;">* Lock Key/Win 키</b></p><p>- Lock Key 키는 키보드의 모든 입력을 차단합니다.</p><p>- Lock Win 키는 좌/우 윈도우 키의 입력을 차단합니다.</p><p>- 두 키 모두 토글 방식으로 작동하며, 전원이 차단되면 모두 off 상태(차단하지 않는 상태)가 됩니다.</p><div><br /></div><div><br /></div><p><b>* 게으른 FN</b></p><p><strike>- 게으른 FN(lazy FN) 옵션을 on 시키면 키 입력 중에는 레이어 변경이 되지 않습니다.&nbsp;</strike></p><p><strike>- 해당 옵션은 하드웨어 메뉴에서 설정할 수 있습니다.</strike></p><p><strike>예를 들어, FN+1을 눌러 FN 레이어의 F1키를 작동 중이었을때 FN키만을 떼고 1키만을 계속 누르고 있으면 F1이 아닌 1키가 입력되게 됩니다. 하지만, 게으른 FN 옵션을 on시킨&nbsp;상태라면 같은 상황에서 FN키를 떼도 F1이 계속 입력됩니다.</strike></p><p><br /></p><p>- 현재는 옵션 변경 없이 기본값으로 게이른 FN이 적용 되어 있습니다.</p><p><br /></p><p><br /></p><p><b>* &nbsp;Shift + Esc = ~</b></p><p>- 미니키보드에서 입력이 불편했던 ~를 Shift + Esc를 누르면 입력되도록 키 매퍼 옵션 추가</p><p>- 하드웨어 메뉴의 "esc to ~" 옵션을 "on"으로 변경하면 shift+esc 입력시 ~가 입력됩니다.</p><p><br /></p><p><br /></p><p><br /></p><p>- 하드웨어 메뉴 사용&nbsp;방법(ps2avrU 전용)</p><p>1. 메모장 같은 타이핑이 가능한 편집기를 PC에 실행 시킵니다.</p><p>2. L ctrl + alt + shift + R shift(총 4키)를 약 5초간 누르고 있다 떼면 문자가 타이핑 되면서 메뉴가 표시됩니다.</p><p>3. 내용은 아래와 같습니다.</p><blockquote class="brush: text; gutter: false;"><p>hello</p><p><br /></p><p>select mode</p><p>1:keymapper</p><p>2:macro</p><p>4:fn2/3 led : sl</p><p>5:esc to ~ : off</p><p>7:exit</p><p>9:boot mapper</p><p>&gt;&gt;</p></blockquote><p><br /></p><p><br /></p><p><br /></p><p><b>* 펌웨어 및 소스 링크</b></p><p><br /></p><p>http://blog.winkeyless.kr/17</p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p>